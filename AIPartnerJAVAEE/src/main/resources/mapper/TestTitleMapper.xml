<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.example.aipartner.mapper.TestTitleMapper">
    <insert id="addWrongQuestion">
        insert into db_aipartner.error_questions(user_id, question, user_answer, correct_answer, error_reason)
        VALUES (
                   #{userId},
                   #{errorQuestion.question},
                   #{errorQuestion.userAnswer},
                   #{errorQuestion.correctAnswer},
                   #{errorQuestion.errorReason}
               )
    </insert>

    <select id="listWrongQuestions" resultType="com.example.aipartner.pojo.ErrorQuestions">
        select * from db_aipartner.error_questions
        where user_id = #{userId}
    </select>

    <select id="listTestsAll" resultType="com.example.aipartner.pojo.TestTitle.Tests">
        select * from db_aipartner.tests
        where user_id = #{userId}
    </select>

    <select id="listTitleByTestId" resultType="com.example.aipartner.pojo.TestTitle.Title">
        select * from db_aipartner.title
        where test_id = #{testId} and user_id = #{userId}
    </select>
</mapper>